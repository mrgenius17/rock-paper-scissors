<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors</title>
</head>
<body>

    <button id="rock">rock</button>
    <button id="paper">paper</button>
    <button id="scissors">scissors</button>

    <div id="result"></div>

    <script>

        const buttons = document.querySelectorAll('button');
        buttons.forEach((btn) => btn.addEventListener('click', game));
        const display = document.querySelector('#result');
        

        let userScore = 0;
        let computerScore = 0;

        function playRound(userSelection, computerSelection){
            
            let result;
            let currentScore = 0;
            if(userSelection==="rock"){
                if(computerSelection==="rock"){
                    result = "TIE!";
                }
                else if(computerSelection==="paper"){
                    result = "YOU LOSE! Paper beats Rock.";
                    computerScore++;
                }
                else if(computerSelection==="scissors"){
                    result = "YOU WIN! Rock beats Scissors!";
                    userScore++;
                }
            }
            else if(userSelection==="paper"){
                if(computerSelection==="paper"){
                    result = "TIE!";
                }
                else if(computerSelection==="rock"){
                    result = "YOU WIN! Paper beats Rock.";
                    userScore++;
                }
                else if(computerSelection==="scissors"){
                    result = "YOU LOSE! Scissors beats Paper!";
                    computerScore++;
                }
            }
            else if(userSelection==="scissors"){
                if(computerSelection==="scissors"){
                    result = "TIE!";
                }
                else if(computerSelection==="rock"){
                    result = "YOU LOSE! Rock beats Scissors.";
                    computerScore++;
                }
                else if(computerSelection==="paper"){
                    result = "YOU WIN! Scissors beats Paper!";
                    userScore++;
                }
            }

            display.textContent = result;
        }


        function game() {
            const userSelection = event.target.id;
            const computerSelection = getComputerChoice();

            playRound(userSelection, computerSelection);

            if(userScore===5 || computerScore===5){
                if(userScore>computerScore) display.textContent+=("\nYOU WIN THE GAME!");
                else if (userScore===computerScore) display.textContent+=("\nITS A TIE GAME!");
                else display.textContent+=("\nYOU LOSE THE GAME!");

                userScore = computerScore = 0;
            }
        }

        function getComputerChoice() {
            let num = Math.floor(Math.random()*3) + 1; // random b/w 1-3
            switch(num){
                case 1:
                    return "rock";
                case 2:
                    return "paper";
                case 3:
                    return "scissors";
                default:
                    return undefined;
            }
        }
    </script>
</body>
</html>